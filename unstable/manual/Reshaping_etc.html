<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reshaping etc &mdash; Horace  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Run inspector" href="Run_inspector.html" />
    <link rel="prev" title="Remote data analysis" href="Remote_data_analysis.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Horace
              <img src="../_static/150px-Quintus_Horatius_Flaccus.jpg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Introduction.html">Introduction and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../User_guide.html">User’s Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../Horace_manual.html">Horace Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Changing_Horace_settings.html">Changing Horace settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="Planning_a_Horace_scan.html">Planning a Horace scan</a></li>
<li class="toctree-l2"><a class="reference internal" href="Generating_SQW_files.html">Generating SQW files</a></li>
<li class="toctree-l2"><a class="reference internal" href="Manipulating_and_extracting_data_from_SQW_files_and_objects.html">Manipulating and extracting data from SQW files and objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="Correcting_for_sample_misalignment.html">Correcting for sample misalignment</a></li>
<li class="toctree-l2"><a class="reference internal" href="Data_diagnostics.html">Data diagnostics</a></li>
<li class="toctree-l2"><a class="reference internal" href="Symmetrising_etc.html">Symmetry Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="Unary_operations.html">Unary operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="Binary_operations.html">Binary operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plotting.html">Plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="Simulation.html">Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="Multifit.html">Multifit</a></li>
<li class="toctree-l2"><a class="reference internal" href="Advanced_Multifit.html">Advanced Multifit</a></li>
<li class="toctree-l2"><a class="reference internal" href="Tobyfit.html">Tobyfit</a></li>
<li class="toctree-l2"><a class="reference internal" href="Parallel.html">Running Horace in Parallel</a></li>
<li class="toctree-l2"><a class="reference internal" href="List_of_functions.html">List of functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Input_file_formats.html">Input file formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html">FAQ</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../Unsorted.html">Unsorted Manual Pages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Changing_object_type.html">Changing object type</a></li>
<li class="toctree-l3"><a class="reference internal" href="Developer_information.html">Developer information</a></li>
<li class="toctree-l3"><a class="reference internal" href="Horace_command_line.html">Horace command line</a></li>
<li class="toctree-l3"><a class="reference internal" href="Read_or_write_to_disk.html">Read or write to disk</a></li>
<li class="toctree-l3"><a class="reference internal" href="Remote_data_analysis.html">Remote data analysis</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Reshaping etc</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#replicate">replicate</a></li>
<li class="toctree-l4"><a class="reference internal" href="#compact">compact</a></li>
<li class="toctree-l4"><a class="reference internal" href="#permute">permute</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cut">cut</a></li>
<li class="toctree-l4"><a class="reference internal" href="#smooth">smooth</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mask">mask</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mask-points">mask_points</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mask-runs">mask_runs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#section">section</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Run_inspector.html">Run inspector</a></li>
<li class="toctree-l3"><a class="reference internal" href="Script_for_correcting_sample_misalignment.html">Script for correcting sample misalignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="Script_for_data_treatment.html">Script for data treatment</a></li>
<li class="toctree-l3"><a class="reference internal" href="Script_for_fitting.html">Script for fitting</a></li>
<li class="toctree-l3"><a class="reference internal" href="Script_for_generating_sqw_files.html">Script for generating sqw files</a></li>
<li class="toctree-l3"><a class="reference internal" href="Script_for_making_cuts_and_plotting.html">Script for making cuts and plotting</a></li>
<li class="toctree-l3"><a class="reference internal" href="Script_for_making_publication_quality_figures.html">Script for making publication quality figures</a></li>
<li class="toctree-l3"><a class="reference internal" href="Script_for_making_simulations.html">Script for making simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="Script_for_planning_an_experiment.html">Script for planning an experiment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../new_page.html">Example New Page</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Citing.html">Citing Horace</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Developers.html">For Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Contributing.html">Contributing to Horace</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API_Reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../General_disclaimer.html">General disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Privacy_policy.html">Privacy Policy</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Horace</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../Horace_manual.html">Horace Manual</a></li>
          <li class="breadcrumb-item"><a href="../Unsorted.html">Unsorted Manual Pages</a></li>
      <li class="breadcrumb-item active">Reshaping etc</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/manual/Reshaping_etc.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="reshaping-etc">
<h1>Reshaping etc<a class="headerlink" href="#reshaping-etc" title="Permalink to this heading"></a></h1>
<section id="replicate">
<h2>replicate<a class="headerlink" href="#replicate" title="Permalink to this heading"></a></h2>
<p>This is a function to create a higher dimensional dataset by replicating along an additional axis. For example a d2d, which is essentially a matrix of intensity, can be replicated to make a d3d (an array of matrices) where the nth matrix is the same as the original one, or a d4d. In Matlab syntax this means e.g.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">Oldmat</span><span class="p">=[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">3</span><span class="w"> </span><span class="s">4]</span><span class="p">;</span>
<span class="n">Newmat</span><span class="p">(:,:,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Oldmat</span><span class="p">;</span>
<span class="n">Newmat</span><span class="p">(:,:,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Oldmat</span><span class="p">;</span>
</pre></div>
</div>
<p>and so on.</p>
<p>Clearly this function cannot apply to a 4-dimensional object, but does apply to all other dimensionalities. In order to make the new object a reference object of this dimensionality (<code class="docutils literal notranslate"><span class="pre">wref</span></code>) must be supplied to act as a template. e.g.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">w_3d</span><span class="p">=</span><span class="n">replicate</span><span class="p">(</span><span class="n">w_2d</span><span class="p">,</span><span class="n">wref_3d</span><span class="p">);</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">w_4d</span><span class="p">=</span><span class="n">replicate</span><span class="p">(</span><span class="n">w_2d</span><span class="p">,</span><span class="n">wref_4d</span><span class="p">);</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">wref</span></code> can be either a dnd or an sqw type object. However <code class="docutils literal notranslate"><span class="pre">w_nd</span></code> MUST be dnd and not sqw, as we have not yet implemented replication for sqw datasets.</p>
</section>
<section id="compact">
<h2>compact<a class="headerlink" href="#compact" title="Permalink to this heading"></a></h2>
<p>A function to squeeze the range of a dataset to eliminate empty bins. For example, suppose we have a 2-dimensional dataset where the axes are <code class="docutils literal notranslate"><span class="pre">p{1}</span> <span class="pre">=</span> <span class="pre">[-2:0.05:10]</span></code> and <code class="docutils literal notranslate"><span class="pre">p{2}</span> <span class="pre">=</span> <span class="pre">[-7:0.05:8]</span></code>. The intensity would be given by a 241 x 301 matrix. However suppose that we actually only have non-zero intensity for <code class="docutils literal notranslate"><span class="pre">p{1}</span> <span class="pre">&lt;</span> <span class="pre">6</span></code> and <code class="docutils literal notranslate"><span class="pre">p{2}</span> <span class="pre">&gt;</span> <span class="pre">-1</span></code>. In this case using the compact command would reduce the size of the intensity matrix, and make the dataset smaller on the computer.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">wout</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">compact</span><span class="p">(</span><span class="n">win</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="permute">
<h2>permute<a class="headerlink" href="#permute" title="Permalink to this heading"></a></h2>
<p>Function to permute the order of the display axes in an object. There are two possible syntaxes:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">wout</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">permute</span><span class="p">(</span><span class="n">win</span><span class="p">);</span>
</pre></div>
</div>
<p>which cyclically permutes the axes by one. The other possibility is to specify the order of the new axes in terms of the old ones. e.g. for a d3d object</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">wout</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">permute</span><span class="p">(</span><span class="n">w_3d</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">1</span><span class="p">]);</span>
</pre></div>
</div>
<p>makes the new 1st axis the old 3rd, and the new 3rd axis the old 1st.</p>
<p>The permute function exists for dimensionalities 1 to 4 (obviously); however the 1-dimensional version simply returns the original object since there is only one axis and permutation of it does not do anything.</p>
<p>Note that the only thing that this function changes is the order of the axes for display. All other information, including the projection axes, are unchanged.</p>
</section>
<section id="cut">
<h2>cut<a class="headerlink" href="#cut" title="Permalink to this heading"></a></h2>
<p>This is one of the most important functions in Horace. It applies to all objects (except 0-dimensional ones) to produce a dataset the dimensionality of which is lower than the starting dataset. For example, for a d3d starting dataset you can get to a d2d, d1d, or d0d. The lower dimensional dataset is created by taking the average over a given <em>integration range</em> from the original dataset. e.g.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">wout</span><span class="p">=</span><span class="n">cut</span><span class="p">(</span><span class="n">w_3d</span><span class="p">,[</span><span class="o">-</span><span class="mf">0.2</span><span class="p">,</span><span class="mf">0.2</span><span class="p">],[</span><span class="mf">0.9</span><span class="p">,</span><span class="mf">1.1</span><span class="p">],[]);</span>
</pre></div>
</div>
<p>takes the input d3d object <code class="docutils literal notranslate"><span class="pre">w_3d</span></code> and averages the signal between the limits -0.2 and +0.2 for the 1st axis, and between 0.9 and 1.1 for the second axis. The resultant <code class="docutils literal notranslate"><span class="pre">wout</span></code> is thus a d1d.</p>
<p>The general syntax is:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">wout</span><span class="p">=</span><span class="n">cut</span><span class="p">(</span><span class="n">win</span><span class="p">,</span><span class="n">ax_1</span><span class="p">,</span><span class="n">ax_2</span><span class="p">,</span><span class="k">...</span><span class="c">);</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">ax_1</span></code> etc. take the form:
- <code class="docutils literal notranslate"><span class="pre">[lo,hi]</span></code> for integration between two limits</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[lo,step,hi]</span></code> for a plot axis between given limits with a given step size</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[step]</span></code> for a plot axis taking the existing lo and hi and rebinning to a given step size,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[]</span></code> for leaving the limits and step size of an axis unchanged.</p></li>
</ul>
</section>
<section id="smooth">
<h2>smooth<a class="headerlink" href="#smooth" title="Permalink to this heading"></a></h2>
<p>A function that can be used on all dnd objects except d0d (for which it would be meaningless). It is currently not implemented for sqw objects.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">wout</span><span class="p">=</span><span class="n">smooth</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>
</pre></div>
</div>
<p>This smooths the data <code class="docutils literal notranslate"><span class="pre">win</span></code> by convoluting it with a hat function of width 3 (the default width).</p>
<p>Alternatively</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">wout</span><span class="p">=</span><span class="n">smooth</span><span class="p">(</span><span class="n">win</span><span class="p">,[</span><span class="n">width_vector</span><span class="p">])</span>
<span class="n">wout</span><span class="p">=</span><span class="n">smooth</span><span class="p">(</span><span class="n">win</span><span class="p">,[</span><span class="n">width_vector</span><span class="p">],</span><span class="k">function</span><span class="p">)</span>
</pre></div>
</div>
<p>The vector <code class="docutils literal notranslate"><span class="pre">[width_vector]</span></code> contains n element for a n-dimensional object and gives the width of the convolution along each axis in terms of the number of bins. Alternatively you can supply a scalar, in which case the same width will be used for all axes. You can also choose with what function the data are convoluted. There are two choices for the argument <code class="docutils literal notranslate"><span class="pre">function</span></code>, either ‘hat’ or ‘gaussian’.</p>
</section>
<section id="mask">
<h2>mask<a class="headerlink" href="#mask" title="Permalink to this heading"></a></h2>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">wout</span><span class="p">=</span><span class="n">mask</span><span class="p">(</span><span class="n">win</span><span class="p">,</span><span class="n">mask_array</span><span class="p">)</span>
</pre></div>
</div>
<p>Apply a mask to points in an n-dimensional dataset <code class="docutils literal notranslate"><span class="pre">win</span></code>. The masked out points have their intensity set to NaN, errorbar set to zero and npix field set to zero. The points to mask are defined by <code class="docutils literal notranslate"><span class="pre">mask_array</span></code>, which should be an array the same size as the intensity array of <code class="docutils literal notranslate"><span class="pre">win</span></code>, consisting of 1s and 0s where data are to be retained or masked respectively.</p>
</section>
<section id="mask-points">
<h2>mask_points<a class="headerlink" href="#mask-points" title="Permalink to this heading"></a></h2>
<p>A function to generate a suitable mask array (see above) for an n-dimensional dataset.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">sel</span><span class="p">,</span><span class="n">ok</span><span class="p">,</span><span class="n">mess</span><span class="p">]=</span><span class="n">mask_points</span><span class="p">(</span><span class="n">win</span><span class="p">,</span><span class="s">&#39;keep&#39;</span><span class="p">,</span><span class="n">xkeep</span><span class="p">)</span>
<span class="p">[</span><span class="n">sel</span><span class="p">,</span><span class="n">ok</span><span class="p">,</span><span class="n">mess</span><span class="p">]=</span><span class="n">mask_points</span><span class="p">(</span><span class="n">win</span><span class="p">,</span><span class="s">&#39;remove&#39;</span><span class="p">,</span><span class="n">xremove</span><span class="p">)</span>
<span class="p">[</span><span class="n">sel</span><span class="p">,</span><span class="n">ok</span><span class="p">,</span><span class="n">mess</span><span class="p">]=</span><span class="n">mask_points</span><span class="p">(</span><span class="n">win</span><span class="p">,</span><span class="s">&#39;mask&#39;</span><span class="p">,</span><span class="n">mask_array</span><span class="p">)</span>
<span class="p">[</span><span class="n">sel</span><span class="p">,</span><span class="n">ok</span><span class="p">,</span><span class="n">mess</span><span class="p">]=</span><span class="n">mask_points</span><span class="p">(</span><span class="n">win</span><span class="p">,</span><span class="s">&#39;keep&#39;</span><span class="p">,</span><span class="n">xkeep</span><span class="p">,</span><span class="s">&#39;remove&#39;</span><span class="p">,</span><span class="n">xremove</span><span class="p">,</span><span class="s">&#39;mask&#39;</span><span class="p">,</span><span class="n">mask_array</span><span class="p">)</span>
</pre></div>
</div>
<p>The inputs are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">win</span></code> is the input dataset</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xkeep</span></code> is the range of display axes to keep, e.g. <code class="docutils literal notranslate"><span class="pre">[x1_lo,x1_hi,x2_lo,x2_hi,...,xn_lo,xn_hi]</span></code>. Note also that more than one range can be specified for each dimension by writing <code class="docutils literal notranslate"><span class="pre">[range_1;</span> <span class="pre">range_2;...]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xremove</span></code> is the range of display axes to remove. Follows the same format as <code class="docutils literal notranslate"><span class="pre">xkeep</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mask_array</span></code> is an array of 1s and 0s with the same number of elements as the data array, with 1s for elements to keep and 0s for elements to remove. Note that this applies to the stored data, not the display axes (which can be switched around by manipulating the <code class="docutils literal notranslate"><span class="pre">dax</span></code> field).</p></li>
</ul>
<p>The outputs are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sel</span></code> mask array the same size as data array, accounting for all of the ranges etc. input.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ok</span></code> =true if the function worked, =false if it did not (e.g. if there was a problem with one of the inputs).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mess</span></code> is a message string giving information about why the function failed. If ok==true then this is an empty string.</p></li>
</ul>
</section>
<section id="mask-runs">
<h2>mask_runs<a class="headerlink" href="#mask-runs" title="Permalink to this heading"></a></h2>
<p>Remove all pixels from one or more runs from an sqw object. Useful, for example if one run from many in an sqw file is deemed to be spurious (e.g. detector noise, unknown sample orientation, etc.)</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">wout</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">mask_runs</span><span class="w"> </span><span class="p">(</span><span class="n">win</span><span class="p">,</span><span class="w"> </span><span class="n">runno</span><span class="p">)</span>
</pre></div>
</div>
<p>The inputs are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">win</span></code> is the sqw object to be masked (single object only, not array)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">runno</span></code> is the run number, or array of run numbers, in the sqw object to be masked. Convention is that run number 1 is the first file in the list when the sqw file was generated, and so on. Can be determined from inspection of <code class="docutils literal notranslate"><span class="pre">win.header</span></code></p></li>
</ul>
<p>The output is:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">wout</span></code>, the output sqw object with mask applied</p></li>
</ul>
</section>
<section id="section">
<h2>section<a class="headerlink" href="#section" title="Permalink to this heading"></a></h2>
<p>Takes a section from an n-dimensional object</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">wout</span><span class="p">=</span><span class="n">section</span><span class="p">(</span><span class="n">win</span><span class="p">,[</span><span class="n">ax1_lo</span><span class="p">,</span><span class="n">ax1_hi</span><span class="p">],[</span><span class="n">ax2_lo</span><span class="p">,</span><span class="n">ax2_hi</span><span class="p">],</span><span class="k">...</span><span class="c">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">win</span></code> is the input dnd or sqw object (except for d0d and 0-dimensional sqw objects), and the vectors <code class="docutils literal notranslate"><span class="pre">[ax_lo,ax_hi]</span></code> specify the lower and upper limits on each axis to retain. If just a zero is specified, e.g.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">wout</span><span class="p">=</span><span class="n">section</span><span class="p">(</span><span class="n">win</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="mi">0</span><span class="p">,[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<p>then the existing limits are retained. So for the above 3-dimensional example data along the first axis between 1 and 2 are retained, and data between 3 and 4 on the 3rd axis are retained, and all of the data along the second axis are retained.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Remote_data_analysis.html" class="btn btn-neutral float-left" title="Remote data analysis" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Run_inspector.html" class="btn btn-neutral float-right" title="Run inspector" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2006-2023, STFC RAL.
      <span class="lastupdated">Last updated on Jul 18, 2023, 12:50:23 PM.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
<br><br>
<a href="https://github.com/pace-neutrons/Horace/edit/master/documentation/user_docs/docs/manual/Reshaping_etc.rst">Click here to edit</a> or <a href="https://github.com/pace-neutrons/Horace/edit/master/documentation/user_docs/docs/new_page.rst">Click here to add new page</a> (requires <a href="https://github.com/login">GitHub account</a>).
<br>
For more info on editing <a href="../Contributing.html">click here</a>.


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>