<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Known bugs &mdash; Horace  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=b3ba4146"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Become a developer" href="Become_a_developer.html" />
    <link rel="prev" title="For Developers" href="../Developers.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Horace
              <img src="../_static/150px-Quintus_Horatius_Flaccus.jpg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Introduction.html">Introduction and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../User_guide.html">User’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Horace_manual.html">Horace Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Citing.html">Citing Horace</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../Developers.html">For Developers</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Known bugs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#current-issues">Current issues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#symmetrisation-problem-with-dnd-data">Symmetrisation problem with dnd data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#broken-pipe-error">Broken pipe error</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fatal-read-error">Fatal Read Error</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Become_a_developer.html">Become a developer</a></li>
<li class="toctree-l2"><a class="reference internal" href="For_Developers.html">For Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Developer_info.html">Developer info</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Contributing.html">Contributing to Horace</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API_Reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../General_disclaimer.html">General disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Privacy_policy.html">Privacy Policy</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Horace</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../Developers.html">For Developers</a></li>
      <li class="breadcrumb-item active">Known bugs</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/developers/Known_bugs.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="known-bugs">
<h1>Known bugs<a class="headerlink" href="#known-bugs" title="Permalink to this heading"></a></h1>
<p>We will endeavour to ensure that Horace reaches you in a fully usable state. However, as more people start to use Horace it is inevitable that bugs will be discovered. If you find a bug please email <a class="reference external" href="mailto:horacehelp&#37;&#52;&#48;stfc&#46;ac&#46;uk">Horace Help</a> so that we can ensure it is fixed in subsequent versions of Horace.</p>
<section id="current-issues">
<h2>Current issues<a class="headerlink" href="#current-issues" title="Permalink to this heading"></a></h2>
<section id="symmetrisation-problem-with-dnd-data">
<h3>Symmetrisation problem with dnd data<a class="headerlink" href="#symmetrisation-problem-with-dnd-data" title="Permalink to this heading"></a></h3>
<p>We have found that if you symmetrise a dnd dataset by specifying a mirror plane through which the data should be folded, the results are not always correct. In particular, this seems to occur for samples where the crystallographic axes are non-orthogonal. Our recommended solution to this is only to perform symmetrisation operations on sqw data objects, and not on dnd data objects, since the sqw routines work differently to the dnd ones and do not display the same problem.</p>
</section>
<section id="broken-pipe-error">
<h3>Broken pipe error<a class="headerlink" href="#broken-pipe-error" title="Permalink to this heading"></a></h3>
<p>During the generation of particularly large SQW datasets, which is a computationally intensive process, MS Windows can sometimes just give up. This is evidenced in a so-called ‘broken pipe’ error, whereby low-level Matlab functions fail to execute due to the failure of very low-level Windows operations. At present we do not have a full fix for this, however it has been found that the following can help rectify the problem:</p>
<ol class="arabic">
<li><p><strong>Run your Horace command again</strong>, after typing</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nb">fclose</span><span class="w"> </span><span class="s">&#39;all&#39;</span>
</pre></div>
</div>
<p>This command ensures that all open files are closed, as there is a limit on the number of open files Matlab can deal with. You should then run your <code class="docutils literal notranslate"><span class="pre">gen_sqw</span></code> again. Sometimes it will fail again, having got slightly further than the previous time (e.g. 80% of the files dealt with, as opposed to 65% before). In these cases you should use the procedure described above several times. With each iteration the command gets closer to finishing. If the command does not get any closer to finishing, even after trying the above several times, then try step 2.</p>
</li>
<li><p>Save your work, <strong>close Matlab</strong>, and then re-open Matlab. Note that when you have closed Matlab you should check that all Matlab processes have finished by opening the Windows Task Manager (<code class="docutils literal notranslate"><span class="pre">Ctrl-alt-delete</span></code>) and checking that no processes involving Matlab are still running. In your new Matlab session try running your command again. Again, you may have to try this several times before things start to work… If you still have not success, then try step 3.</p></li>
<li><p><strong>Restart Windows</strong>. If the two procedures detailed above do not work then try rebooting and starting again.</p></li>
</ol>
</section>
<section id="fatal-read-error">
<h3>Fatal Read Error<a class="headerlink" href="#fatal-read-error" title="Permalink to this heading"></a></h3>
<p>Similarly, this sometimes occurs during the writing of data into the SQW file. There are a variety of causes, some understood and some not.</p>
<ol class="arabic simple">
<li><p>One or more of the TMP files has been corrupted. In this case there is little you can do other than to redo the :ref:<code class="docutils literal notranslate"><span class="pre">gen_sqw</span></code> command. If only one TMP file is corrupted then you may wish to consider re-writing the SQW file without that dataset. To do this use the <code class="docutils literal notranslate"><span class="pre">write_nsqw_to_sqw</span></code> command, described <cite>here &lt;List_of_functions:write_nsqw_to_sqw&gt;</cite>.</p></li>
<li><p>We have found that if you combine SPE files using, for example, <code class="docutils literal notranslate"><span class="pre">add_spe</span></code> in Mslice then you can get an inconsistency in the TMP files. We have not yet tracked down the cause of this problem, so at present the solution we propose is <strong>DO NOT</strong> combine SPE files and then make an SQW file out of them. Rather keep the files separate and assign the same values of Ei and psi to them, as Horace will combine the data and recalculate the errorbars internally.</p></li>
</ol>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../Developers.html" class="btn btn-neutral float-left" title="For Developers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Become_a_developer.html" class="btn btn-neutral float-right" title="Become a developer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2006-2023, STFC RAL.
      <span class="lastupdated">Last updated on Oct 5, 2023, 12:49:53 PM.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
<br><br>
<a href="https://github.com/pace-neutrons/Horace/edit/master/documentation/user_docs/docs/developers/Known_bugs.rst">Click here to edit</a> or <a href="https://github.com/pace-neutrons/Horace/edit/master/documentation/user_docs/docs/new_page.rst">Click here to add new page</a> (requires <a href="https://github.com/login">GitHub account</a>).
<br>
For more info on editing <a href="../Contributing.html">click here</a>.


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>